<% layout("/layouts/boilerplate") %>

<style>
 .remove-btn {
  background-color: #fe424d; /* Red background */
  color: white;              /* White text */
  border: none;              /* No border */
  font-size: 0.8rem;         /* Small text */
  padding: 0.25rem 0.6rem;   /* Small padding */
  border-radius: 0.25rem;    /* Rounded corners */
  cursor: pointer;
  transition: background-color 0.2s;
  display: inline-block;     /* Shrinks to text width */
  white-space: nowrap;  
     /* Prevents text wrap */
}

.remove-btn:hover {
  background-color: #e03641; /* Darker red on hover */
}

.list-text {
    display: flex;
    flex-wrap: wrap;
    text-align: center;
    margin-right: 2rem;
    margin-top: 2rem;
    color:black;
  }


</style>


<div class="list-text">
  <h3 class="mb-4">Wishlists</h3>
</div>

<% if (listings.length === 0) { %>
  <p>You have no items in your wishlist.</p>
<% } else { %>
  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
    <% for (let listing of listings) { %>
      <div class="col mb-4">
        <div class="card listing-card">
          <a href="/listings/<%= listing._id %>" class="text-decoration-none">
            <img
              src="<%= listing.image.url %>"
              class="card-img-top"
              style="height:20rem; object-fit:cover;"
            />
          </a>
          <div class="card-body">
            <p class="card-text text-dark">
              <b><%= listing.title %></b><br />
              &#8377; <%= listing.price.toLocaleString("en-IN") %> / night
            </p>
            <form
                action="/wishlist/<%= listing._id %>?_method=DELETE"
                method="POST"
                class="mt-2"
                >
                <button class="btn remove-btn">
                    Remove
                </button>
                </form>
          </div>
        </div>
      </div>
    <% } %>
  </div>
<% } %>



